<!DOCTYPE html>
<html>

<head>

  <title>Pocket Docs</title>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- <link rel="stylesheet" href="https://unpkg.com/boltcss/bolt.min.css"> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">

  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@catppuccin/highlightjs@0.1.4/css/catppuccin-latte.css"> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@catppuccin/highlightjs@0.1.4/css/catppuccin-mocha.css">

  <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>
    hljs.highlightAll();
    hljs.addPlugin(new CopyButtonPlugin());
  </script>

  <link rel="stylesheet" href="./css/styles.css">
  <script src="./js/scripts.js"></script>

</head>

<body>


  <section id="sidebar">

    <header>

      <div class="logo">
        <a href="#">
          <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round"
            stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
            <path d="M16 7h.01"></path>
            <path d="M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20"></path>
            <path d="m20 7 2 .5-2 .5"></path>
            <path d="M10 18v3"></path>
            <path d="M14 17.75V21"></path>
            <path d="M7 18a6 6 0 0 0 3.84-10.61"></path>
          </svg>
        </a>
      </div>

      <div class="title">
        <a href="#">
          <strong>POCKET DOCS</strong>
          <span>v0.0.1</span>
        </a>
      </div>

    </header>


    <nav>

      <ul>
        <li><a href="#installation">Installation / Setup</a></li>
      </ul>

      <ul>
        <li><a href="#routing">URL Routing</a></li>
        <ul>
          <li><a href="#routing-http-verbs">Routing with HTTP verbs</a></li>
          <li><a href="#routing-any-all">Accepting any/all matching HTTP requests</a></li>
          <li><a href="#parsing-url-parameters">Parsing URL parameters</a></li>
        </ul>
      </ul>

      <ul>
        <li><a href="#rendering">Rendering Content</a></li>
        <ul>
          <li><a href="#render-template">render_template</a></li>
          <li><a href="#render-json">render_json</a></li>
          <li><a href="#render">render</a></li>
          <li><a href="#show-document-at-given-url">Show a document at a given url</a></li>
          <li><a href="#send-headers">Send headers</a></li>
        </ul>
      </ul>

      <ul>
        <li><a href="#templates">Templates</a></li>
        <ul>
          <li><a href="#basic-variables">Basic Variables</a></li>
          <li><a href="#iterating-arrays">Iterating Arrays</a></li>
          <li><a href="#simple-logic">Simple Logic</a></li>
          <li><a href="#partials">Partials</a></li>
          <li><a href="#global-layouts">Global Layouts</a></li>
          <li><a href="#template-locals">Template Locals</a></li>
        </ul>
      </ul>

      <ul>
        <li><a href="#handlebars-helpers">Handlebars Helpers</a></li>
        <ul>
          <li><a href="#hh-lowercase">lowercase</a></li>
          <li><a href="#hh-addslashes">addslashes</a></li>
          <li><a href="#hh-nl2br">nl2br</a></li>
          <li><a href="#hh-to-fixed">to_fixed</a></li>
          <li><a href="#hh-date">date</a></li>
          <li><a href="#hh-date-transform">date_transform</a></li>
          <li><a href="#hh-in-array">in_array</a></li>
          <li><a href="#hh-if-either">if_either</a></li>
          <li><a href="#hh-is">is</a></li>
          <li><a href="#hh-custom">Custom Helpers</a></li>
        </ul>
      </ul>

      <ul>
        <li><a href="#requests">HTTP Requests</a></li>
        <ul>
          <li><a href="#http-request">http_request</a></li>
          <li><a href="#json-request">json_request</a></li>
          <li><a href="#api-request">api_request</a></li>
        </ul>
      </ul>

      <ul>
        <li><a href="#cookies">Cookies</a></li>
        <ul>
          <li><a href="#cookie-set">cookie_set</a></li>
          <li><a href="#cookie-get">cookie_get</a></li>
          <li><a href="#cookie-delete">cookie_delete</a></li>
        </ul>
      </ul>

      <ul>
        <li><a href="#data">Data</a></li>
        <ul>
          <li><a href="#db-insert">db_insert</a></li>
          <li><a href="#db-find">db_find</a></li>
          <li><a href="#db-update">db_update</a></li>
          <li><a href="#db-delete">db_delete</a></li>
        </ul>
      </ul>

      <ul>
        <li><a href="#misc">Misc Helpers</a></li>
        <ul>
          <li><a href="#h-email-send">email_send</a></li>
          <li><a href="#h-client-ip">client_ip</a></li>
          <li><a href="#h-url_slug">url_slug</a></li>
          <li><a href="#h-url-strip">url_strip</a></li>
          <li><a href="#h-url-validate">url_validate</a></li>
          <li><a href="#h-mysql-date">mysql_date</a></li>
          <li><a href="#h-video-id">video_id</a></li>
          <li><a href="#h-br2nl">br2nl</a></li>
          <li><a href="#h-pagination-query">pagination_query</a></li>
          <li><a href="#h-pagination-links">pagination_links</a></li>
          <li><a href="#h-array-encode">array_encode</a></li>
          <li><a href="#h-array-decode">array_decode</a></li>
        </ul>
      </ul>

      <ul>
        <li><a href="#advanced">Advanced</a></li>
      </ul>

    </nav>

  </section>


  <main>




      <article id="home">

        <div>

          <h1>POCKET DOCS</h1>
          <div class="subtitle">A small and simple documentation template.</div>
          
          <div class="download-button">
            <a href="https://github.com/jyoungblood/pocketdocs/archive/refs/tags/0.0.1.zip">&darr;&nbsp; pocketdocs-0.0.1.zip</a>
          </div>

          <div class="source-link">
            <a target="_blank" href="https://github.com/jyoungblood/pocketdocs">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
              <span>SOURCE</span>
            </a>
          </div>

        </div>

      </article>







      <article id="intro" style="padding: 6rem 0;">



        <div style="font-size: 1.25rem; max-width: 45rem; margin: auto; text-align: center;">
          <p>Lorem Ipsum is a dolor sit amet for consectetur adipiscing.</p>
          <p>It's designed to be simple and easy to use.</p>
          <p>It's <b>free</b> and <b>open source</b>.</p>
        </div>


      </article>















      <article>


        <h2 id="installation">Installation / Setup</h2>


        



        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna
          aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis
          aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
          occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </p>



        <div class="columns">

          <div>

            <h3>Installation</h3>

            <ul style="padding-left: 1rem;">
            
              <li><strong>Lorem</strong> - lorem ipsum dolor sit amet</li>
            
              <li><strong>Ipsum</strong> - consectetur adipiscing elit</li>
            
              <li><strong>Dolor</strong> - sed do eiusmod tempor</li>
            
              <li><strong>Sit</strong> - incididunt ut labore</li>
            
            </ul>

          </div>

          <div>

            <h3>Server Requirements</h3>

            <ul style="padding-left: 1rem;">
            
              <li><strong>Amet</strong> - ut enim ad minim veniam</li>
            
              <li><strong>Consectetur</strong> - quis nostrud exercitation ullamco</li>
            
              <li><strong>Adipiscing</strong> - laboris nisi ut aliquip ex ea</li>
            
              <li><strong>Elit</strong> - aute irure dolor in reprehenderit</li>
            
            </ul>


          </div>

        </div>


        <p>
          <small>* NOTE: consectetur adipiscing elit, sed do eiusmod tempor incididunt.</small>
        </p>



        <h3>Application Structure</h3>

        <p>
          Quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis
          aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
          occaecat cupidatat non proident, sunt in culpa qui officia.
        </p>





        <h3>Included libraries</h3>

        <p>
          Quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis
          aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
          occaecat cupidatat non proident, sunt in culpa qui officia.
        </p>


      </article>





















      <article>

        

        <h2 id="routing">URL Routing</h2>
        
        <p>something something define what happens a user visits a given url on your
          site. by default all of the routes are in ./controllers/_routes.php, but as your site grows, you might find it
          helpful to break that into different files. organize however you like using php includes, just remember to
          "link" each new php doc/folder you create and keep all that in "controllers". also.</p>


        <h3 id="routing-http-verbs">Routing with HTTP verbs</h3>

        <p>You can accept any type of http request and do things with them (really cool if you want to
          make an actual rest
          api with http verbs) (all current http verbs are supported, so you can get as specific as you want)</p>

        <pre><code class="language-php">$app->get('/whatever/url/you/define', function(){
  // your PHP code here
});</code></pre>


        <pre><code class="language-php">$app->post('/whatever/url', function(){
  // your PHP code here
});</code></pre>


        <pre><code class="language-php">$app->post('/whatever/url', function(){
  // your PHP code here
});</code></pre>


        <pre><code class="language-php">$app->put('/whatever/url', function(){
  // your PHP code here
});</code></pre>


        <pre><code class="language-php">$app->delete('/whatever/url', function(){
  // your PHP code here
});</code></pre>


        <pre><code class="language-php">$app->patch('/whatever/url', function(){
  // your PHP code here
});</code></pre>


        <pre><code class="language-php">$app->copy('/whatever/url', function(){
  // your PHP code here
});</code></pre>


        <pre><code class="language-php">$app->head('/whatever/url', function(){
  // your PHP code here
});</code></pre>


        <pre><code class="language-php">$app->options('/whatever/url', function(){
  // your PHP code here
});</code></pre>



        <h3 id="routing-any-all">Accepting any/all matching HTTP requests</h3>

        <p>you can do that too (this code will run whenever you try to access this url with any kind of
          http request)
        </p>


        <pre><code class="language-php">$app->all('/whatever/url', function(){
  // your PHP code here
});</code></pre>


        <pre><code class="language-php">$app->any('/whatever/url', function(){
  // your PHP code here
});</code></pre>




        <h3 id="parsing-url-parameters">Parsing URL parameters</h3>

        <p>also, you can do stuff with regex or whatever to retrieve parameters from the urls. here are
          a few examples.
          see the alto router docs for more detailed info (stereo uses <a href="http://altorouter.com/"
            target="_blank">alto
            router</a>, so you can parse the parameters in a lot of ways. here are a few examples. refer to the docs for
          more)

          - https://github.com/dannyvankooten/AltoRouter
          - how to work w/ the router: https://longren.io/basic-routing-in-php-with-altorouter/

          CHECK IT OUT!!! http://altorouter.com/usage/mapping-routes.html
        </p>

        
        <p>With or without the trailing slash:</p>

        <pre><code class="language-php">$app->get('/about/?', function(){
  // your PHP code here
});</code></pre>


        
        <p>Using a url parameter as variable:</p>

        <pre><code class="language-php">$app->get('/register/activate/[*:hash]', function($hash){ 
  // url parameter is available to your PHP code as $hash
});</code></pre>

        
        <p>And of course you can access _GET vars like normal PHP docs:</p>

        <pre><code class="language-php">$app->get('/directory/search/?', function(){ 
  // ex url: http://partyphysics.com/directory/search/?fish=betta&dish=espinacas&planet=keppler-452b
  echo $_GET['fish'];  // betta
  echo $_GET['dish'];  // espinacas
  echo $_GET['planet'];  // keppler-452b
});		</code></pre>


      </article>









      <article>

        

        <h2 id="rendering">Rendering Content</h2>

        <p>once you have a URL route set up, it's a good idea to define what
          happens there. the sky is almost the limit for what you can do at that point...it just has to be php. here are
          some cool options!</p>



        <h3 id="render-template">render_template ($options)</h3>
        <p>Render a handlebars template with special STEREO abstraction variables () -- future docs: the
          passwords part of this requires php >= 5.5</p>



        <pre><code class="language-php">$app->get('/handlebars-stereo', function(){
  $GLOBALS['app']->render_template(array(
    'template' => 'planets',
    'title' => 'Cool Planets',
    'layout' => false,
    'data' => array(
      'righteous_content' => 'for_sure',
      'planets' => array(
        'Mercury', 'Venus', 'Earth', 'Nibiru'
      )
    )
  ));
});</code></pre>


        <h3 id="render-json">render_json ($options)</h3>
        <p>Render an array of data as a JSON string and send with JSON headers (handy for easily making
          API responses)</p>


        <pre><code class="language-php">$app->post('/json-response', function(){
  $GLOBALS['app']->render_json(array(
    'righteous_content' => 'for sure',
    'planets' => array(
      'Mercury', 'Venus', 'Earth', 'Nibiru'
    )
  ));
});</code></pre>


        <h3 id="render">render ($template_name, $data)</h3>

        <p>Render a handlebars template using a php array for saturation (note this is not attached to
          the stereo $app
          class)</p>


        <pre><code class="language-php">$app->get('/handlebars-normal', function(){
  echo $GLOBALS['engine']->render('handlebars-example', array(
    'righteous_content' => 'for sure',
    'planets' => array(
      'Mercury', 'Venus', 'Earth', 'Nibiru'
    )
  ));
});</code></pre>




        <h3 id="show-document-at-given-url">Show a document at a given url</h3>

        <p>want to show just a document? do it like this</p>


        <pre><code class="language-php">$app->get('/normal-page', function(){
  require __DIR__ . '/pages/whatever.html';
});</code></pre>




        <h3 id="send-headers">Send headers</h3>

        <p>send a header. it can be whatever you want...this is nothing special with the framework, just
          something good to
          remember</p>


        <pre><code class="language-php">$app->get('/whatever', function(){
  header("Location: http://partyphysics.com/");
});</code></pre>


        <!-- 		future: render_error -->


      </article>














      <article>

        

        <h2 id="templates">Templates</h2>

        <p>something something templates go in ./pages and you can call them
          whatever you want. you can organize this however you want, too! link to handlebars docs for more info.</p>


        <h3 id="basic-variables">Basic Variables</h3>

        <p>the simplest thing to do. if you use render_template, stereo includes a few by default (year,
          etc) as well
          as a few special things (is_admin, auth, user_id, etc) (title [uses the site title by default, so it's kinda
          optional])</p>

        <div class="columns">
          <div>

           
            <p>php</p>


            <pre><code class="language-php">$app->get('/variable-example', function(){
  $GLOBALS['app']->render_template(array(
    'template' => 'demo',
    'data' => array(
      'fish' => 'salmon',
      'dish' => 'paella',
      'planet' => 'Nibiru'
    )
  ));
});</code></pre>

          </div>


          <div>

           
            <p>hbs (note about literals { { { } } } vs { { } } -- by default hbars doesn't parse html
              tags, so if you
              want to have them rendered, do this)</p>

            <pre><code class="language-html">&lt;h2&gt;Simple Variables Example&lt;/h2&gt;
&lt;h3&gt;Cool Fish: &#123;&#123;fish&#125;&#125;&lt;/h3&gt;
&lt;h3&gt;Cool Dish: &#123;&#123;dish&#125;&#125;&lt;/h3&gt;
&lt;h3&gt;Cool Planet: &#123;&#123;planet&#125;&#125;&lt;/h3&gt;</code></pre>

          </div>

        </div>




        <h3 id="iterating-arrays">Iterating Arrays</h3>
        
        <p>it's hella easy, just like a foreach loop. you can even nest the arrays to infinity (and
          beyond) (sorry) (it
          can be as simple or complex as you want to make it) (see the demo controller/templates for an example of more
          complex array iteration)</p>

        <div class="columns">
          <div>

           
            <p>php (simple & complex example from demo)</p>

            <pre><code class="language-php">$app->get('/array-example', function(){
  $GLOBALS['app']->render_template(array(
    'template' => 'demo',
    'data' => array(
      'snacks' => array(
        'Carrots',
        'Hay',
        'Sugar Cubes',
        'Oats',
        'Apples',
        'Weaker Horses'
      )
    )
  ));
});</code></pre>

          </div>


          <div>

           
            <p>hbs (simple & complex example from demo)</p>


            <pre><code class="language-html">&lt;ul&gt;
  &#123;&#123;#each snacks&#125;&#125;
  &lt;li&gt;&#123;&#123;this&#125;&#125;&lt;/li&gt;
  &#123;&#123;/each&#125;&#125;
&lt;/ul&gt;</code></pre>

          </div>

        </div>






        <h3 id="simple-logic">Simple Logic</h3>

        <p>you can do some simple logic to check if a variable exists (or has value). if you would like
          to do more complex
          logic, check out [if_either], [in_array], [is]</p>


        <div class="columns">
          <div>

            <p>php</p>

            <pre><code class="language-php">$app->get('/logic-example', function(){
  $GLOBALS['app']->render_template(array(
    'template' => 'demo',
    'data' => array(
      'fish' => 'salmon',
      'dish' => 'paella',
    )
  ));
});</code></pre>

          </div>


          <div>

            <p>hbs (if/else, unless, (normal hbars logic, link to hbars docs) maybe is & link to
              helpers)</p>


            <pre><code class="language-html">&#123;&#123;#if fish&#125;&#125;
  Salmon is available
&#123;&#123;else&#125;&#125; // this won't show:
  No salmon for you.
&#123;&#123;/if&#125;&#125;

&#123;&#123;#unless snacks&#125;&#125;
  No snacks available. We have &#123;&#123;dish&#125;&#125, though.
&#123;&#123;else&#125;&#125; // this won't show:
  Look at all the snack options:
  &#123;&#123;#each snacks&#125;&#125;
  - &#123;&#123;this&#125;&#125; &lt;br /&gt;
  &#123;&#123;/each&#125;&#125;
&#123;&#123;/unless&#125;&#125;</code></pre>

          </div>

        </div>






        <h3 id="partials">Partials</h3>
        
        <p>You can include templates in other templates! That is neat! all your partials need to be in
          the _partials
          directory, but you can organize that however you want!</p>


           
            <p>normal php whatever example</p>

            <pre><code class="language-php">$app->get('/partials-example', function(){
  $GLOBALS['app']->render_template(array(
    'template' => 'demo',
    'data' => array(
      'fish' => 'salmon',
      'dish' => 'paella',
      'planet' => 'Nibiru'
    )
  ));
});</code></pre>

           
            <p>hbs</p>


            <pre><code class="language-html">&lt;h2&gt;Demo page (rendered with partial from separate template)&lt;/h2&gt;

&lt;h3&gt;Fish: &#123;&#123;fish&#125;&#125;&lt;/h3&gt;
&lt;h3&gt;Dish: &#123;&#123;dish&#125;&#125;&lt;/h3&gt;

&#123;&#123;&gt; planets-partial&#125;&#125;</code></pre>

           
            <p>hbs (partial code) (see how it has access to the same data?)</p>


            <pre><code class="language-html">&lt;ul&gt;
  &#123;&#123;#each planets&#125;&#125;
  &lt;li&gt;&#123;&#123;this&#125;&#125;&lt;/li&gt;
  &#123;&#123;/each&#125;&#125;
&lt;/ul&gt;</code></pre>











        <h3 id="global-layouts">Global Layouts</h3>
        
        <p>if you want to use a global header footer, you can! you can define as many global
          wrappers/layouts as you
          want (like express, django, ember, whatever...wow!) if you leave the "layout" parameter blank, STEREO will use
          the
          layout in ./pages/_layouts/base.hbs by default. your content will be rendered where the [[outlet]] part is</p>



        <p>php example</p>

        <pre><code class="language-php">$app->get('/layouts-example', function(){
  $GLOBALS['app']->render_template(array(
    'template' => 'demo',
    'title' => 'Site Title Whatever',
    'layout' => 'admin',  // false for nothing, base by default
    'data' => array(
      'fish' => 'salmon',
      'dish' => 'paella',
      'planets' => array(
        'Mercury', 'Venus', 'Earth', 'Nibiru'
      )
    )
  ));
});</code></pre>


        <p>hbs (wrapper)</p>


        <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;&#123;&#123;title&#125;&#125;&lt;/title&gt;
  &lt;meta charset="utf-8" /&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" /&gt;
  &lt;link rel="stylesheet" href="/css/app.css" /&gt;
&lt;/head&gt;
&lt;body&gt;

  &lt;div class="header"&gt;&lt;h1&gt;Site Title Whatever&lt;/h1&gt;&lt;/div&gt;

  &lt;div class="container"&gt;
    [[outlet]]  // this is where the content will be rendered
  &lt;/div&gt;

  &lt;div class="footer"&gt;(c) &#123;&#123;year&#125;&#125; -- All rights reserved or whatever.&lt;/div&gt;

&lt;script src="/js/vendor/jquery.min.js"&gt;&lt;/script&gt;
&lt;script src="/js/app.js"&gt;&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>


        <p>hbs</p>

        <pre><code class="language-html">&lt;h2&gt;Demo page (rendered with global wrapper)&lt;/h2&gt;

&lt;h3&gt;Fish: &#123;&#123;fish&#125;&#125;&lt;/h3&gt;
&lt;h3&gt;Dish: &#123;&#123;dish&#125;&#125;&lt;/h3&gt;

&lt;ul&gt;
  &#123;&#123;#each planets&#125;&#125;
  &lt;li&gt;&#123;&#123;this&#125;&#125;&lt;/li&gt;
  &#123;&#123;/each&#125;&#125;
&lt;/ul&gt;</code></pre>




        <h3 id="template-locals">Template Locals (Global Variables)</h3>
        
        <p>need to make an arbitrary variable/array available to all the templates? use
          $GLOBALS['locals'] (hold for
          laugh)
          but seriously, folks, treat it like an array and whatever you need. and if it's an array is something you can
          iterate over. and, of course, all of this is available to the application as $GLOBALS['locals']['numbers'] or
          whatever</p>

        <div class="columns">
          <div class="w-50">

           
            <p>php example</p>

            <pre><code class="language-php">$GLOBALS['locals']['eat_this'] = "breakfast";
$GLOBALS['locals']['colors'] = array('red', 'salmon', 'lilac', 'azul');</code></pre>
          </div>


          <div class="w-50">

           
            <p>hbs</p>

            <pre><code class="language-html">Let's have &#123;&#123;locals.eat_this&#125;&#125; for dinner.</code></pre>

          </div>

        </div>



        <div class="columns">
          <div class="w-50">

           
            <p>php example</p>

            <pre><code class="language-php">$GLOBALS['locals']['colors'] = array('red', 'salmon', 'lilac', 'azul');</code></pre>

          </div>


          <div class="w-50">

           
            <p>hbs</p>

            <pre><code class="language-html">&lt;ul&gt;
  &#123;&#123;#each locals.colors&#125;&#125;
  &lt;li&gt;&#123;&#123;this&#125;&#125;&lt;/li&gt;
  &#123;&#123;/each&#125;&#125;
&lt;/ul&gt;</code></pre>

          </div>

        </div>



      </article>










      <article>

        

        <h2 id="handlebars-helpers">Handlebars Helpers</h2>

        <p>You can use handlebars helpers to transform any of your handlebars variables.
          STEREO includes a handful of common php functions as helpers plus a few special ones. you can write your own,
          too!
          it's super easy!</p>





        <h3 id="hh-lowercase">lowercase</h3>

        <p>transform string to lowercase (link to php docs)</p>

        <pre><code class="language-html">&#123;&#123;lowercase hbar_variable&#125;&#125;
// "Don't Fear The Reaper" &nbsp; ---> &nbsp; "don't fear the reaper"</code></pre>




        <h3 id="hh-addslashes">addslashes</h3>

        <p>escape quotes (link to php docs)</p>

        <pre><code class="language-html">&#123;&#123;addshlashes hbar_variable&#125;&#125;
// "Don't Fear The Reaper" &nbsp; ---> &nbsp; "Don\'t Fear The Reaper"</code></pre>




        <h3 id="hh-nl2br">nl2br</h3>

        <p>note u gotta use 3 curly braces w/ this because it turns plain text to html just F Y I//
          nl2br
          // transform line breaks to "br /" ()link to php docs</p>

        <pre><code class="language-html">&#123;&#123;&#123;nl2br hbar_variable&#125;&#125;&#125;
/* 
&nbsp;&nbsp; "Don't Fear
The Reaper" &nbsp; ---> &nbsp; "Don't Fear &lt;br /&gt; The Reaper"
*/</code></pre>




        <h3 id="hh-to-fixed">to_fixed</h3>

        <p>to_fixed - return given number calculated to given number of decimal places (defaults to 2)
        </p>

        <pre><code class="language-html">&#123;&#123;to_fixed hbar_variable&#125;&#125; &nbsp;&nbsp; // 3.14
&#123;&#123;to_fixed hbar_variable 4&#125;&#125; &nbsp;// 3.1415
&#123;&#123;to_fixed hbar_variable 0&#125;&#125; &nbsp;// 3</code></pre>







        <h3 id="hh-date">date</h3>

        <p>parse unix timestamp into human-readable date format (basically php's date()). use "now" for
          current
          date/time
        </p>

        <pre><code class="language-html">&#123;&#123;date hbar_variable "m/d/Y"&#125;&#125; &nbsp;// "1459036800" &nbsp; ---> &nbsp; "3/27/2015"
&#123;&#123;date "now" "m/d/Y"&#125;&#125; &nbsp;// "{{date "now" "m/d/Y"}}"</code></pre>





        <h3 id="hh-date-transform">date_transform</h3>

        <p>transform time/date format (same as date, but it turns a string [like a js date object] into
          unix time
          first)
        </p>

        <pre><code class="language-html">&#123;&#123;date_transform hbar_variable "m/d/Y"&#125;&#125; &nbsp;// "Sun Aug 14 2016 00:00:00 +0000" &nbsp; ---> &nbsp; "8/14/2016"</code></pre>













        <h3 id="hh-in-array">in_array</h3>

        <p>in_array -- return true(/false) if this item is(/is not) in the array -- can be a csv string,
          too</p>

        <pre><code class="language-html">/*
  colors_array = ['red', 'salmon', 'lilac', 'azul']
                    -- or --
  colors_array = "red, salmon, lilac, azul"
*/

&#123;&#123;#in_array "green" colors_array &#125;&#125; 
  it's in the array!
&#123;&#123;else&#125;&#125; 
  it's not in :(
&#123;&#123;/in_array&#125;&#125;		</code></pre>





        <h3 id="hh-if-either">if_either</h3>

        <p>if_either - return true if the first thing equals either the second or third thing (they
          could also be hbar_variables)</p>

        <pre><code class="language-html">&#123;&#123;#if_either hbar_variable "salmon" "azul"&#125;&#125;
  it's true :)
&#123;&#123;else&#125;&#125;
  it's false :(
&#123;&#123;/if_either&#125;&#125;</code></pre>





        <h3 id="hh-is">is</h3>

        <p>this one has a lot of cool options // is
          // basic comparison operators
          you can compare either hbars variables or strings (and use arrays, in some cases)
          acceptable operators: ==, ===, not, !=, <,>, <=,>=, in, typeof</p>


        <pre><code class="language-html">&#123;&#123;#is hbar_variable "==" "paella"&#125;&#125;
  yes :)
&#123;&#123;else&#125;&#125;
  no :(
&#123;&#123;/is&#125;&#125;</code></pre>

        
        <p>// will also show if the first thing is contained within the second thing (even it's CSV)
          (2nd thing can be a
          string, csv list, or an array)
          // 2nd param can beither array or csv</p>

        <pre><code class="language-html">&#123;&#123;#is hbar_variable_1 "in" hbar_variable_2&#125;&#125;
  yes :)
&#123;&#123;else&#125;&#125;
  no :(
&#123;&#123;/is&#125;&#125;</code></pre>
        
        <p>// you can also compare variables by types (array, string, integer, etc) (uses <a
            href="http://php.net/manual/es/function.gettype.php">php gettype</a></p>

        <pre><code class="language-html">&#123;&#123;#is hbar_variable_1 "typeof" hbar_variable_2&#125;&#125;
  yes :)
&#123;&#123;else&#125;&#125;
  no :(
&#123;&#123;/is&#125;&#125;</code></pre>






        <h3 id="hh-custom">Custom Helpers</h3>
        
        <p>it's easy, just write a php function and put it in ./controllers/_global.php and then use it
          in whatever
          template. look! (you can copy this code as a good starting point). here's a simple example combining a couple
          simple native php functions. take a look at the handlebars-helpers file to see more examples of how we put
          together the more complex helpers (we got a lot of these from somewhere, anyone remember where?)</p>

        <p>php example</p>


        <pre><code class="language-php">$engine->addHelper('lowercase_slashes', function($template, $context, $args, $source) {
  $parsed_args = $template->parseArguments($args);
  return lowercase(addslashes($context->get($parsed_args[0])));
});</code></pre>

       
        <p>corresponding hbs (wrapper)</p>

        <pre><code class="language-html">&#123;&#123;lowercase_slashes hbar_variable&#125;&#125;
// "Don't Fear The Reaper" &nbsp; ---> &nbsp; "don\'t fear the reaper"</code></pre>



      </article>










      <article>

        

        <h2 id="requests">HTTP Requests</h2>
        
        <p>something something it's trivially easy to work with other systems if you use
          an api! look how easy it is to consume 3rd-party services
          - a lot of times you might have a need to integrate things you've made with other systems. fortunately,
          everyone
          can consume/produce json apis and this is perfect.</p>



        <h3 id="http-request">http_request ($url, $data)</h3>
        
        <p>Make an http request to a given url (using curl), send data, return the raw response.</p>


        <pre><code class="language-php">$data = $GLOBALS['app']->http_request('https://external-api.com/v3/example-response', array(
  'user_id' => 581146,
  'api_key' => '696719xvckvzxspigh24y1e-b'
));</code></pre>


        if you need to make a json/http request a GET request instead of post, do this:
        <!--
	$wx_data = $GLOBALS['app']->json_request_debug('http://exec-sign.mainstreetbusinessdistrict.com/uploads/streams.json', array(
		'something' => 'whatever'
	)[OR false], array('type' => 'GET'));
-->




        <h3 id="json-request">json_request ($url, $data)</h3>
        
        <p>Make an http request to a given url, send data, and return an array of response data (expects
          response in json
          format...like the kind sent from render_json). (append _debug to just make an http request and see the raw
          result)
        </p>


        <pre><code class="language-php">$data = $GLOBALS['app']->json_request('https://external-api.com/v3/example-response', array(
  'user_id' => 581146,
  'api_key' => '696719xvckvzxspigh24y1e-b'
));

/* expected response: 
  {
    first_name: "Eddie",
    last_name: "Mercury",
    favorite_fish: "Salmon"
  }
*/

print_r($data);

/* 
  array(
    'first_name' => 'Eddie',
    'last_name' => 'Mercury',
    'favorite_fish' => 'Salmon'
  );
*/</code></pre>


        <h3 id="api-request">api_request ($url, $data)</h3>
        
        <p>Make a json request to a given url, send hard-coded data from cookies <i>(user_id,
            auth_token, admin_token,
            moderator_token)</i>. Specialized for use with STEREO patterns/components <i>(coming soon)</i> -- // same as
          json_request, but in addition to data params, this sends the user_id, auth_token, admin_token, moderator_token
          set
          in cookies as those params, uses the $GLOBALS['api_root'] in settings. you can set extra variables to send
          (like
          if your api requires a key or whatever...see stereo-core.php, the function called "api_request" obv) (append
          _debug to just make an http request and see the raw result)</p>

        <pre><code class="language-php">$data = $GLOBALS['app']->api_request('/admin/events/screen', array(
  'parameter_1' => 'cool stuff',
  'parameter_2' => 'cooler stuff'
));

/* data sent to api would look something like:
  {
    user_id: "581146",
    admin_token: "123123-1230973t2097sdv",
    auth_token: "1203920rdvslasphwg",
    moderator_token: false,
    parameter_1: "cool stuff",
    parameter_2: "cooler stuff"
  }
*/

/* expected response: 
  {
    first_name: "Eddie",
    last_name: "Mercury",
    favorite_fish: "Salmon"
  }
*/

print_r($data);

/* 
  array(
    'first_name' => 'Eddie',
    'last_name' => 'Mercury',
    'favorite_fish' => 'Salmon'
  );
*/</code></pre>



      </article>




















      <article>

        

        <h2 id="cookies">Cookies</h2>


        <h3 id="cookie-set">cookie_set ($key, $value, $expiration_date)</h3>
        <p>Set a cookie for a given amount of time.</p>

        <pre><code class="language-php">$GLOBALS['app']->cookie_set(
  'user_name',
  'Buzz',  // can be a string or an array or whatever
  1461619625  // optional, in unix time format, default is time() + 31536000000
);</code></pre>


        <h3 id="cookie-get">cookie_get ($key)</h3>
        <p>Return the value of a given cookie.</p>

        <pre><code class="language-php">echo $GLOBALS['app']->cookie_get('user_name');  // Buzz</code></pre>


        <h3 id="cookie-delete">cookie_delete ($key)</h3>
        <p>Delete a given cookie.</p>

        <pre><code class="language-php">$GLOBALS['app']->cookie_delete('user_name');</code></pre>


      </article>






























      <article>

        

        <h2 id="data">Data</h2>

        <p>(something mysql crud functionality, requires pdo (php 5.3+), global
          functions, not part of the $app class, so use it however it suits you)</p>


        <h3 id="db-insert">db_insert ($table, $input)</h3>
        <p>Sanitize parameters and insert array of data into database. Returns the id of the record
          created.</p>

        <pre><code class="language-php">$new_id = db_insert("celestial_bodies", array(
  'name' => 'Luna',
  'classification' => 'moon',
  'comment' => 'Earth\'s moon, also commonly referred to as "the moon"'
));

echo $new_id;</code></pre>



        <h3 id="db-find">db_find ($table, $criteria, $options)</h3>

        <p>Sanitize parameters and retrieve data from database. (SELECT *) <br />Returns an array with
          the the data and a
          total number of results.</p>

        <pre><code class="language-php">$planets = db_find("celestial_bodies", "classification = 'planet' ORDER BY title ASC LIMIT 8");

foreach ($planets['data'] as $p){
  echo $p['title'];
  echo $p['classification'];
  // etc, etc
}

echo $planets['total'];  // 8</code></pre>

        <p>You can run a raw query (if you need to do joins or anything fancy)</p>

        <pre><code class="language-php">$space_objects = db_find("", "SELECT title, classification FROM celestial_bodies WHERE id IS NOT NULL", array(
  'raw' => true
));</code></pre>

        <p>If APC is enabled on your system, you can cache your queries</p>

        <pre><code class="language-php">$planets = db_find("celestial_bodies", "classification = 'planet' ORDER BY title ASC", array(
  'cache' => true,
  'cache_length' => 120  // optional, in seconds, default is 60
));</code></pre>





        <h3 id="db-update">db_update ($table, $input, $criteria)</h3>
        <p>Sanitize parameters and update a database record.</p>

        <pre><code class="language-php">db_update("celestial_bodies", array(
  'name' => 'Mars',
  'comment' => 'Research "The Phobos Incident" -- we are not alone'
), "name='Marz'");</code></pre>




        <h3 id="db-delete">db_delete ($table, $criteria)</h3>
        <p>Sanitize parameters and delete a given database record.</p>

        <pre><code class="language-php">db_delete("celestial_bodies", "name='venice'");</code></pre>


      </article>
















      <article>

        

        <h2 id="misc">Misc Helper Functions</h2>
        


        <h3 id="h-email-send">email_send ($options)</h3>
        <p>Send an plain text or html email (with mailgun api, if available, otherwise using php mail).
        </p>

        <pre><code class="language-php">$GLOBALS['app']->email_send(array(
  'to' => 'static@hexgirlfriend.com',
  'from' => 'sitemeister@partyphysics.com',
  'cc' => 'cc-address@partyphysics.com',  // optional
  'bcc' => 'bcc-address@partyphysics.com',  // optional
  'reply-to' => 'reply-address@partyphysics.com',  // optional
  'subject' => 'Send me an email',
  'html' => true,  // optional, message will be sent as plain text unless this is true
  'message' => 'Right now...&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;u&gt;RIGHT NOW&lt;/u&gt;&lt;/b&gt;'
));</code></pre>


        update docs: NOW YOU CAN USE TEMPLATES TO MAKE HTML EMAILS!

        <pre><code class="language-php">$GLOBALS['app']->email_send(array(
  'from' => 'static@hexgirlfriend.com',
  'to' => 'jonathan.youngblood@gmail.com',

  'template' => 'mail/test',
  'layout' => 'mail',
// 	'preview' => true,
// 	'debug' => true,
  'data' => array(
    'email' => 'jonathan.youngblood@gmail.com'
  ),

));</code></pre>




        <h3 id="h-client-ip">client_ip ()</h3>
        <p>Return the address of the computer making the current request.</p>

        <pre><code class="language-php">echo $GLOBALS['app']->client_ip();</code></pre>
        <p>
           disclaimer about ip addresses and accuracy (we use a couple of redundant methods, but you can't really
          trust them in general because of the nature of how ip addresses work...easily spoofable, etc)
        </p>









        <h3 id="h-url-slug">url_slug ($string)</h3>
        <p>url_slug</p>

        <pre><code class="language-php">echo $GLOBALS['app']->url_slug();</code></pre>






        <h3 id="h-url-strip">url_strip ()</h3>
        <p>url_strip</p>

        <pre><code class="language-php">echo $GLOBALS['app']->url_strip();</code></pre>




        <h3 id="h-url-validate">url_validate ()</h3>
        <p>url_validate</p>

        <pre><code class="language-php">echo $GLOBALS['app']->url_validate();</code></pre>






        <h3 id="h-mysql-date">mysql_date ()</h3>
        <p>mysql_date</p>

        <pre><code class="language-php">echo $GLOBALS['app']->mysql_date();</code></pre>





        <h3 id="h-video-id">video_id ()</h3>
        <p>video_id</p>

        <pre><code class="language-php">echo $GLOBALS['app']->video_id();</code></pre>





        <h3 id="h-br2nl">br2nl ()</h3>
        <p>br2nl</p>

        <pre><code class="language-php">echo $GLOBALS['app']->br2nl();</code></pre>



        <h3 id="h-pagination-query">pagination_query ()</h3>
        <p>pagination_query</p>

        <pre><code class="language-php">echo $GLOBALS['app']->pagination_query();</code></pre>




        <h3 id="h-pagination-links">pagination_links ()</h3>
        <p>pagination_links</p>

        <pre><code class="language-php">echo $GLOBALS['app']->pagination_links();</code></pre>






        <h3 id="h-array-encode">array_encode ()</h3>
        <p>array_encode</p>

        <pre><code class="language-php">echo $GLOBALS['app']->array_encode();</code></pre>




        <h3 id="h-array-decode">array_decode ()</h3>
        <p>array_decode</p>

        <pre><code class="language-php">echo $GLOBALS['app']->array_decode();</code></pre>








      </article>











      <article>

        

        <h2 id="advanced">Advanced</h2>

        <p>
          - how to work w/ nginx


          link to patterns/components repo
          - examples of how to do various kinds of things
          - copy/paste code samples
          - routing
          - crud operations
          - etc

          - working w/ compose



          pattern lib reqs
          [- phmagick (imagemagick)
          [- s3 upload (what's it called?)
          [- smoke
          [- dropzone
          [- fancybox
          [- mailgun


          setting max file size (w/ htaccess / php)
          upload_max_filesize = 20M
          post_max_size = 20M
        </p>

      </article>


































      <footer>
        <a href="https://jyoungblood.github.io/">&copy; 2048 JY ♥</a>
      </footer>


  </main>


































</body>

</html>